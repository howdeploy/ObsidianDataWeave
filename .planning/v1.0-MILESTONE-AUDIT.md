---
milestone: v1.0
audited: 2026-02-26T08:30:00Z
status: gaps_found
scores:
  requirements: 25/27
  phases: 4/4
  integration: 12/14
  flows: 1/2
gaps:
  requirements:
    - id: "DIST-02"
      status: "partial"
      phase: "Phase 4"
      claimed_by_plans: ["04-01-PLAN.md"]
      completed_by_plans: ["04-01-SUMMARY.md"]
      verification_status: "passed (missed by phase verifier)"
      evidence: "install.sh does not install PyYAML; requirements.txt omits PyYAML; atomize.py line 8 imports yaml — breaks on clean systems where PyYAML is not pre-installed"
    - id: "DIST-01"
      status: "partial"
      phase: "Phase 4"
      claimed_by_plans: ["04-02-PLAN.md"]
      completed_by_plans: ["04-02-SUMMARY.md"]
      verification_status: "passed"
      evidence: "README.md lines 62 and 182 reference 'scripts/parse_doc.py' — actual filename is 'scripts/parse_docx.py'. Quick Start copy-paste commands are correct; only the 'What happens' section has the typo."
  integration:
    - from: "install.sh"
      to: "atomize.py"
      issue: "PyYAML (import yaml) is a hard runtime dependency of atomize.py but is not installed by install.sh or listed in requirements.txt"
    - from: "config.example.toml"
      to: "scripts/*"
      issue: "[processing] default_note_type config key is documented and present but no script reads it — dead config"
  flows:
    - flow: "New user → install → first document → notes in vault"
      breaks_at: "atomize.py (step 3/5 in pipeline)"
      issue: "import yaml fails with ModuleNotFoundError on systems without pre-installed PyYAML"
tech_debt:
  - phase: 02-ai-core
    items:
      - "META-03: REQUIREMENTS.md says '3-5 tags' but implementation enforces '2-5 tags' — lower bound widened during planning. Functional behavior correct."
  - phase: 03-writers
    items:
      - "VAULT-03: REQUIREMENTS.md says 'content hash' but implementation uses (source_doc, title) pair — deliberate architectural decision. Functional behavior correct."
      - "process.py line 130: redundant 'from pathlib import Path as P' import inside --skip-fetch branch"
  - phase: 04-publish
    items:
      - "[processing] default_note_type in config.example.toml — dead config key, no script reads it"
      - "README USER placeholder in git clone URL — intentional, user must replace"
      - "Phase 3 VERIFICATION.md body says 'gaps_found' but frontmatter says 'passed' — cosmetic inconsistency in the verification doc itself"
---

# Milestone v1.0 Audit Report

**Milestone:** v1.0 — ObsidianDataWeave
**Audited:** 2026-02-26
**Status:** gaps_found
**Auditor:** Claude (orchestrator + gsd-integration-checker)

## Executive Summary

All 4 phases completed with passing verifications. 25 of 27 requirements are fully satisfied. 2 requirements have minor but real gaps discovered by integration testing that phase-level verification missed:

1. **PyYAML missing from install chain** — `atomize.py` imports `yaml` but neither `requirements.txt` nor `install.sh` install it. Breaks new-user E2E flow on clean systems.
2. **README typo** — `parse_doc.py` should be `parse_docx.py` in the "What happens" section (lines 62, 182).

Both are trivially fixable (2-3 line changes).

## Requirements Coverage (3-Source Cross-Reference)

### Source Availability

| Source | Available | Notes |
|--------|-----------|-------|
| VERIFICATION.md (per phase) | 4/4 | All phases verified |
| SUMMARY.md frontmatter | 0/9 have `requirements_completed` | SUMMARYs lack this field; cross-referenced via PLAN frontmatter instead |
| REQUIREMENTS.md traceability | 27/27 mapped | All show `[ ]` Pending — never updated during execution |

### Requirements Matrix

| REQ-ID | Description | Phase | VERIFICATION | PLAN Claims | Final Status |
|--------|-------------|-------|-------------|-------------|--------------|
| CONF-01 | config.toml with vault_path, folders, rclone | 1 | SATISFIED | 01-01 | **satisfied** |
| CONF-02 | tags.yaml canonical taxonomy | 1 | SATISFIED | 01-01 | **satisfied** |
| CONF-03 | config.example.toml as template | 1 | SATISFIED | 01-01 | **satisfied** |
| DOCX-01 | Download .docx from Google Drive via rclone | 1 | SATISFIED | 01-02 | **satisfied** |
| DOCX-02 | Parser preserves H1/H2/H3, lists, tables | 1 | SATISFIED | 01-02 | **satisfied** |
| DOCX-03 | Document split into sections by headings | 1 | SATISFIED | 01-02 | **satisfied** |
| DOCX-04 | Claude decides: one note or several per section | 2 | SATISFIED | 02-01, 02-02 | **satisfied** |
| DOCX-05 | Each atomic note: one idea, 150-600 words | 2 | SATISFIED | 02-01, 02-02 | **satisfied** |
| META-01 | YAML frontmatter: tags, date, source_doc, note_type | 2 | SATISFIED | 02-01 | **satisfied** |
| META-02 | Tags from canonical taxonomy only | 2 | SATISFIED | — | **satisfied** |
| META-03 | 2-5 tags from content (spec says 3-5) | 2 | PARTIAL-NOTE | — | **satisfied** (spirit met) |
| META-04 | note_type: atomic, moc, source | 2 | SATISFIED | — | **satisfied** |
| LINK-01 | Wikilinks when note title mentioned | 2 | SATISFIED | — | **satisfied** |
| LINK-02 | Semantic links even without literal mention | 2 | SATISFIED | — | **satisfied** |
| LINK-03 | MOC file per processed document | 2 | SATISFIED | 02-02 | **satisfied** |
| LINK-04 | MOC mirrors H1/H2 structure | 2 | SATISFIED | 02-02 | **satisfied** |
| VAULT-01 | Notes saved to configurable vault path | 3 | SATISFIED | 03-02 | **satisfied** |
| VAULT-02 | Folder routing by note_type | 3 | SATISFIED | 03-02 | **satisfied** |
| VAULT-03 | No duplicates on second run | 3 | PARTIAL | 03-02 | **satisfied** (functional) |
| VAULT-04 | Staging dir for intermediates only | 3 | SATISFIED | 03-01 | **satisfied** |
| RULE-01 | Rules loaded from rules/*.md | 1 | SATISFIED | 01-03 | **satisfied** |
| RULE-02 | Claude follows rules at runtime | 1 | SATISFIED | 01-03 | **satisfied** |
| RULE-03 | Reference .docx files processed to rules | 1 | SATISFIED | 01-03 | **satisfied** |
| DIST-01 | README with copy-paste commands | 4 | SATISFIED | 04-02 | **partial** (typo) |
| DIST-02 | install.sh installs all deps | 4 | SATISFIED | 04-01 | **partial** (PyYAML missing) |
| DIST-03 | Obsidian templates in repo | 4 | SATISFIED | 04-02 | **satisfied** |
| DIST-04 | Smart Connections config | 4 | SATISFIED | 04-02 | **satisfied** |

**Orphaned requirements:** None. All 27 REQ-IDs appear in at least one VERIFICATION.md report.

## Phase Completion

| Phase | Status | Score | Completed |
|-------|--------|-------|-----------|
| 1. Foundation | passed | 9/9 | 2026-02-25 |
| 2. AI Core | passed | 4/4 | 2026-02-26 |
| 3. Writers | passed | 11/11 | 2026-02-26 |
| 4. Publish | passed | 11/11 | 2026-02-26 |

## Integration Check

### Cross-Phase Wiring: 12/14 connections verified

**Working connections (12):** config.toml → all scripts, tags.yaml → atomize.py, rules/ → atomize.py, SKILL.md → atomize.py, fetch → parse → atomize → generate → vault_writer pipeline, process.py subprocess chain, install.sh → config.example.toml sed, install.sh → CLAUDE.md registration, templates cross-referencing

**Issues (2):**
1. **PyYAML undeclared:** `atomize.py` imports `yaml` but `requirements.txt` has only `python-docx` and `install.sh` doesn't install PyYAML
2. **Dead config key:** `[processing] default_note_type` in config.example.toml read by no script

### E2E Flows: 1/2 verified

| Flow | Status | Break Point |
|------|--------|-------------|
| New user → install → first doc → vault | BROKEN on clean systems | `atomize.py:import yaml` — ModuleNotFoundError |
| Second run → no duplicates | COMPLETE | Dedup via (source_doc, title) works correctly |

## Gaps (Blocking)

### GAP-1: PyYAML missing from install chain

**Affects:** DIST-02, and transitively DOCX-04/05, META-01-04, LINK-01-04, VAULT-01-04
**Root cause:** `scripts/atomize.py` line 8 does `import yaml` but PyYAML is not in `requirements.txt` and not installed by `install.sh`
**Impact:** New-user E2E flow breaks at pipeline step 3/5 on any system without pre-installed PyYAML
**Fix:** Add `PyYAML>=6.0` to `requirements.txt`; add `pyyaml` to `install_python_docx()` in `install.sh`

### GAP-2: README script name typo

**Affects:** DIST-01
**Root cause:** README.md lines 62 and 182 say `scripts/parse_doc.py` — actual file is `scripts/parse_docx.py`
**Impact:** Users reading "What happens" section see wrong filename; Quick Start commands themselves are correct
**Fix:** Change `parse_doc.py` → `parse_docx.py` in both EN and RU sections

## Tech Debt (Non-blocking)

### Phase 2: AI Core
- META-03 tag count: REQUIREMENTS.md says "3-5" but implementation enforces "2-5" — lower bound widened during planning

### Phase 3: Writers
- VAULT-03 spec text: REQUIREMENTS.md says "content hash" but implementation uses (source_doc, title) pair — deliberate decision
- `process.py` line 130: redundant import inside `--skip-fetch` branch

### Phase 4: Publish
- `[processing] default_note_type` config key: documented but no code reads it
- README `USER` placeholder in git clone URL: intentional, requires user replacement

**Total: 5 items across 3 phases**
