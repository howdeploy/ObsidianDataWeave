---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - config.example.toml
  - tags.yaml
  - .gitignore
  - requirements.txt
autonomous: true
requirements:
  - CONF-01
  - CONF-02
  - CONF-03

must_haves:
  truths:
    - "config.example.toml is parseable by tomllib and contains vault_path, note folders, rclone remote, staging_dir"
    - "tags.yaml loads with PyYAML safe_load and contains 30-50 English-only hierarchical tags"
    - "config.toml is gitignored; config.example.toml is committed"
    - "requirements.txt lists python-docx as the only non-stdlib dependency"
  artifacts:
    - path: "config.example.toml"
      provides: "Config template with placeholder values"
      contains: "[vault]"
    - path: "tags.yaml"
      provides: "Canonical tag taxonomy"
      contains: "version: 1"
    - path: ".gitignore"
      provides: "Git ignore rules"
      contains: "config.toml"
    - path: "requirements.txt"
      provides: "Python dependencies"
      contains: "python-docx"
  key_links:
    - from: "config.example.toml"
      to: "scripts/fetch_docx.sh (Plan 02)"
      via: "[rclone] remote field read by fetch script"
      pattern: "remote ="
    - from: "tags.yaml"
      to: "rules/taxonomy.md (Plan 03)"
      via: "taxonomy rules reference tag format from tags.yaml"
      pattern: "tags:"
---

<objective>
Create the project structure scaffold with locked config schema, canonical tag taxonomy, and gitignore rules.

Purpose: Establishes the foundational files that all other plans and phases read. Config schema is locked here — changes after this are breaking.
Output: config.example.toml, tags.yaml, .gitignore, requirements.txt
</objective>

<execution_context>
@/home/kosya/.claude/get-shit-done/workflows/execute-plan.md
@/home/kosya/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create config.example.toml, .gitignore, and requirements.txt</name>
  <files>config.example.toml, .gitignore, requirements.txt</files>
  <action>
Create three files in project root:

**config.example.toml** — TOML config template with placeholder values. Use this exact schema (locked per CONTEXT.md and RESEARCH.md):

```toml
# ObsidianDataWeave Configuration
# Copy to config.toml and fill in your values

[vault]
vault_path = "/path/to/your/obsidian/vault"
notes_folder = "Research & Insights"       # atomic notes destination
moc_folder = "Guides & Overviews"          # MOC files destination
source_folder = "Sources"                   # source document references

[rclone]
remote = "gdrive:"                          # rclone remote name (check: rclone listremotes)
staging_dir = "/tmp/dw/staging"            # temporary staging area

[processing]
default_note_type = "atomic"               # frontmatter note_type default
```

Ensure no real paths leak — all values are placeholders.

**.gitignore** — Must include:
- `config.toml` (user's real config with actual paths)
- `__pycache__/`
- `*.pyc`
- `/tmp/`
- `.env`
- `*.egg-info/`

Do NOT gitignore: `config.example.toml`, `tags.yaml`, `rules/`, `scripts/`, `requirements.txt`.

**requirements.txt** — Pin python-docx:
```
python-docx>=1.1.0,<2.0.0
```
Only python-docx — PyYAML and tomllib are stdlib/pre-installed. Do not add mammoth or python-frontmatter (mentioned in blockers but not needed per research).

Also create the empty directory structure that Plan 02 and 03 will populate:
```
mkdir -p scripts/
mkdir -p rules/
```
  </action>
  <verify>
Run: `python3 -c "import tomllib; data = tomllib.load(open('config.example.toml', 'rb')); assert 'vault' in data and 'rclone' in data and 'processing' in data; print('OK')"` — must print OK.

Run: `grep 'config.toml' .gitignore` — must match.

Run: `grep 'python-docx' requirements.txt` — must match.

Run: `test -d scripts && test -d rules && echo 'dirs OK'` — must print dirs OK.
  </verify>
  <done>config.example.toml parses with tomllib and contains [vault], [rclone], [processing] sections with placeholder values. .gitignore blocks config.toml. requirements.txt lists python-docx. scripts/ and rules/ directories exist.</done>
</task>

<task type="auto">
  <name>Task 2: Create tags.yaml canonical taxonomy</name>
  <files>tags.yaml</files>
  <action>
Create tags.yaml in project root with the canonical tag taxonomy. Per user decisions:
- English tags ONLY (no Cyrillic)
- Nested hierarchy using `/` separator
- Broad spectrum: tech, productivity, science, personal, creative, business, health, philosophy
- 30-50 tags total
- Version field for future schema changes

Use the structure from RESEARCH.md Pattern 4 as the base, but expand to hit 30-50 tags. Include a comment header explaining the format and auto-expansion rules.

Structure:
```yaml
# Canonical tag taxonomy for ObsidianDataWeave
# Tags appear as #domain/subtag in Obsidian (e.g., #tech/ai)
# Claude may add new tags when nothing fits — additions logged to proposed-tags.md
version: 1
tags:
  tech:
    - ai
    - llm
    - python
    - javascript
    - devops
    - security
    - data
    - tools
    - automation
    - web
  productivity:
    - pkm
    - notetaking
    - gtd
    - workflow
    - obsidian
    - zettelkasten
    - moc
    - templates
  science:
    - neuroscience
    - biology
    - physics
    - mathematics
    - research-methods
    - psychology
  personal:
    - health
    - learning
    - finance
    - relationships
    - habits
  creative:
    - writing
    - design
    - content
    - storytelling
  business:
    - startup
    - marketing
    - strategy
    - management
    - analytics
  philosophy:
    - epistemology
    - ethics
    - cognition
    - decision-making
```

Adjust tag count to land in 30-50 range. Count total leaf tags (subtags) to verify.

Verify the file loads with PyYAML safe_load and the tag loading pattern from RESEARCH.md works.
  </action>
  <verify>
Run: `python3 -c "import yaml; data=yaml.safe_load(open('tags.yaml')); tags=[f'{d}/{s}' for d,subs in data['tags'].items() for s in subs]; print(f'{len(tags)} tags'); assert 30 <= len(tags) <= 50, f'Expected 30-50 tags, got {len(tags)}'"`

Must print a count between 30 and 50 with no assertion error.
  </verify>
  <done>tags.yaml exists with version field, 30-50 English-only hierarchical tags across 7+ domains, loads cleanly with PyYAML safe_load.</done>
</task>

</tasks>

<verification>
1. `python3 -c "import tomllib; tomllib.load(open('config.example.toml', 'rb'))"` exits 0
2. `python3 -c "import yaml; yaml.safe_load(open('tags.yaml'))"` exits 0
3. `grep -q 'config.toml' .gitignore && echo PASS`
4. `cat requirements.txt | grep python-docx`
5. `git status` shows config.example.toml, tags.yaml, .gitignore, requirements.txt as new files; config.toml is NOT listed
</verification>

<success_criteria>
- config.example.toml is valid TOML with [vault], [rclone], [processing] sections
- tags.yaml has 30-50 English tags organized by domain
- .gitignore includes config.toml
- requirements.txt lists python-docx
- scripts/ and rules/ directories exist for Plans 02 and 03
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
